<!-- Copyright FUJITSU LIMITED 2018-->
<!DOCTYPE html> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:rich="http://richfaces.org/rich"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:a4j="http://richfaces.org/a4j"
  xmlns:adm="http://www.fujitsu.com/global/services/software/interstage"
  xmlns:mp="http://www.fujitsu.com/global/services/software/interstage/marketplace">
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link href="${facesContext.externalContext.requestContextPath}/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="#{facesContext.externalContext.requestContextPath}/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
  
  <a4j:outputPanel id="listServicesForPublicLandingpage">
    <h:form id="tagFilterForm" rendered="#{!isMplRestricted or empty userBean.loggedInUser}">
      <h:inputHidden id="tagFilterValue" value="#{servicePagingBean.filterTag}" />
      <h:commandButton id="applyTagFilter" action="#{serviceListingBean.showServiceList}" style="display: none;">
        <f:setPropertyActionListener target="#{servicePagingBean.filterCategoryForDisplay}" value="" />
      </h:commandButton>
    </h:form>
    <div class="container-fluid clearfix" style="padding-top:10px;padding-left:0px;padding-right:0px;">
      <div class="row">
      
     <!--  <a4j:outputPanel rendered="#{!isMplRestricted or not empty userBean.loggedInUser}"> -->
      
        <c:forEach items="#{serviceListingBean.servicesForLandingPage}" var="service" varStatus="status">
          <c:set var="isLastCol" value="#{(status.index mod 2) > 0}" />
          <c:set var="lastCol" value="#{isLastCol ? 'lastcol' : ''}" />
  
          
        <!--     <a4j:outputPanel id="servicePanel#{status.index}" layout="block" styleClass="box selectable serviceBox2span"
              onclick="#{rich:element('showDetails'.concat(status.index))}.click();"> -->

            <!--   <div class="clearfix"> -->
                <mp:serviceBlock fieldId="service#{status.index}" service="#{service}" limitedDescription="true" />
             <!--  </div> -->
              <div class="clearfix block">
           <!--      <mp:ratingStars styleClass="left listingStarBox" rating="#{service.rating}" /> -->
                <mp:serviceTags fieldId="service#{status.index}ServiceTags" service="#{service}"
                  styleClass="center nowrap_hidden" />
               </div>
            <!--  <mp:pixelline />
              <div class="clearfix">
                <mp:servicePrice service="#{service}" styleClass="servicePriceHome" showUnit="false" />
                <div class="serviceShowDetailsButton">
                  <h:link id="showDetails#{status.index}" outcome="serviceDetails" class="button linkBtn"
                    value="#{msg['button.showDetails']}">
                    <f:param name="selectedServiceKey" value="#{service.key}" />
                  </h:link>
                </div>
              </div>
            </a4j:outputPanel>  -->
          
          
           <c:if test="#{not isLastCol and status.last}">
            <!-- fill odd number of services with empty block -->
            <div class="row">
             <div class="col-md-6"></div>
            </div> 
          </c:if> 
        </c:forEach>
 
   <!--    </a4j:outputPanel> -->
      </div>
    </div>
    <h:outputText styleClass="recommendedPrice right" value="#{msg['service.recommendedRetailPrice']}"
      id="recommendedRetailPrice" rendered="#{serviceListingBean.serviceListContainsChargeableResellerService}" />
    <mp:linkPageTop showBrowseAll="true" />
    <rich:jQuery selector="document"
      query="ready(function() {var tagDivs = jQuery('div.serviceTags').get();AdmUtils.cutServiceTags(tagDivs);})" />
    <script>
    	jQuery().ready(function(){
        	AdmUtils.highlightNavigation("navigation1");
    	});
    	</script>
  </a4j:outputPanel> 
</ui:composition>